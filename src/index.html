<html metal:use-macro="page.html/main" tal:define="current string:news">
  <body metal:fill-slot="content" tal:omit-tag="">

    <h1>PHPTAL</h1>
    <p>PHPTAL is a templating engine for PHP5 that implements brilliant Zope Page Templates syntax:</p>
<pre><code>&lt;div class=&quot;item&quot; <em>tal:repeat</em>=&quot;item itemsArray&quot;&gt;  
    &lt;span <em>tal:condition</em>=&quot;item/hasDate&quot; <em>tal:replace</em>=&quot;item/getDate&quot;/&gt;
    &lt;a href=&quot;<em>$${item/getUrl}</em>&quot; <em>tal:content</em>=&quot;item/getTitle&quot;/&gt;
  &lt;p <em>tal:content</em>=&quot;value/getContent&quot;/&gt;
&lt;/div&gt;</code></pre>    
    
    <p>PHPTAL is fast thanks to compiled templates and fine-grained caching. Makes it easy to generate well-formed XML/XHTML. It's free under LGPL license.</p>
    <p>See the <a href="introduction.html">introduction</a>.</p>

    <h1 id="news">News</h1>

	<div class="pon">	    	    
	    <h2>Useful resources</h2>
    	<div class="date">2009-01-12</div>
	    <p><a href="http://taat.pl">takeshin</a> wrote nice <a href="http://taat.pl/article/zend_framework_tutorial/">tutorial on integration of PHPTAL with the Zend Framework</a> and started <a href="http://taat.pl/phptal_filter_library/">repository of PHPTAL filters</a>.</p>
	    
	    <h2>PHPTAL 1.1.14 Released</h2>
    	<div class="date">2008-11-03</div>
	    <p>This release brings sane handling of non-ASCII characters in <code>gettext</code> translation keys. If you use PHPTAL's <code>i18n</code> features and have non-ASCII characters in translation keys (e.g. your application's native language is other than English), you may need to upgrade your <code>.po</code> files or enable backward compatiblity mode (see notes below).</p>

        <p>Changes:</p>
	    <ul>
    	    <li>fixed: non-ASCII characters in translation keys aren't canonicalized by default. <code>setCanonicalize(true)</code> method of <code>PHPTAL_GetTextTranslator</code> enables old behaviour.</li>
    	    <li>added: <code>PHPTAL_TranslationService</code> now requires implementation of <code>setEncoding()</code> method. See <a href="manual/en/split/ar06s06.html#i18n-setencoding">manual</a>.</li>
	        <li>added: support for <code>structure</code> keyword in <code>i18n:translate</code>, which disables escaping of XML entities, allowing use of <a href="manual/en/split/ar05s04.html#xhtml-in-translations">XHTML in translation strings</a>.</li>
	        <li>added: objects that implement <code>__call</code> can now throw <code>BadMethodCallException</code> when they don't handle called method, allowing PHPTAL to handle this gracefully.</li>
	        <li>fixed: partially removed support for old <code>tal:define</code> “feature” that caused empty elements to be omitted.</li>
	        <li>fixed: bug in cache purging code caused up-to-date templates to be needlessly reparsed.</li>
	        <li>Improved speed of macro calls across templates.</li>
        </ul>
        
        <h3>Upgrade instructions</h3>
        <p style="text-align:left">In 1.1.13 translation key like <code>&lt;p i18n:translate=&quot;&#x27;&#x17C;&oacute;&#x142;w&#x27;&quot; /&gt;</code> was interpreted as <code style="white-space:nowrap">&lt;p i18n:translate=&quot;&#x27;&lt;C197&gt;&lt;C188&gt;&lt;C195&gt;&lt;C179&gt;&lt;C197&gt;&lt;C130&gt;w&#x27;&quot;&gt;</code> and you had to use <code style="white-space:nowrap">msgid &quot;&lt;C197&gt;&lt;C188&gt;&lt;C195&gt;&lt;C179&gt;&lt;C197&gt;&lt;C130&gt;w&quot;</code> in your <code>.po</code> files.</p>
        
        <p>PHPTAL 1.1.14 stops doing this and keys are now left unchanged. The example above would simply expect <code>msgid "żółw"</code> in the <code>.po</code> file.</p>

        <p>If you don't want to change your <code>.po</code> files and want to <em>keep old behaviour</em>, then call <code>setCanonicalize(true)</code> of <code>PHPTAL_GetTextTranslator</code>, e.g.:</p>

<pre><code>$translator = new PHPTAL_GetTextTranslator();
$translator->setLanguage(…);
<em>$translator->setCanonicalize(true); // add this line</em>
$phptal->setTranslator($translator);</code></pre>

	    <p>To upgrade templates, change <code>&lt;C<var>xxx</var>&gt;</code> back to bytes. This code snippet will do it:</p>
<pre><code>preg_replace(&#x27;/&lt;C(\d+)&gt;/e&#x27;,&#x27;chr(&quot;\1&quot;)&#x27;,$po_file_content)</code></pre>
        <p><a href="upgrade_to_1.1.14.php.txt">Download <code>.po</code> upgrade script</a>.</p>
	    
	    <h2 lang="de">Deutsche Übersetzung des Handbuchs</h2>
	    <div class="date">2008-10-15</div>
	    <div lang="de">
	    <p>Eine von <?php echo <<<EMAIL
    <a 
            class='email
            href="mailto:me"
            ' 
            href 
            = '	
            &#x20;&#x6d;ail&#116;&#x6f;&#58;&#x20;&#x66;&#x25;&#54;&#x31;&#x78;&#101;&#37;&#54;c&#x25;&#x34;0&#x25;&#x37;&#x61;oe&#x6C;l&#105;ch&#x25;2e&#100;e&#63;
            '>Axel Zöllich</a>
EMAIL;
    ?> betreute, deutsche Übersetzung des Handbuchs ist verfügbar.</p>
        <ul>
            <li>Der 'Template Attribute Language' Abschnitt ist fertig.</li>
            <li>Dem Teil 'php Integration' fehlen noch einige Teile.</li>
        </ul>
        </div>
	    
	    <p lang="en">(Axel Zöllich is working on <a href="manual/de/split/">German translation</a> of the <a href="manuals.html">manual</a>!)</p>	    
	    
	    <h2>PHPTAL presentation</h2>
	    <div class="date">2008-08-20</div>
	    <p>During August <a href="http://webstandards.meetup.com/130/">London Web Standards Meetup</a> I've given presentation about PHPTAL.</p>
	    <p>The presentation is available for download in <a href="/webstandards2008/PHPTAL.key.zip">Apple Keynote</a> and <a href="/webstandards2008/PHPTAL.pdf">PDF</a> formats.</p>
	  
        <h2>PHPTAL 1.1.13 released</h2>
	    <div class="date">2008-07-27</div>
	    <ul>
            <li>New template cleanup routines based on patch by Sergio Chersovani and Nicola Aitoro. PHPTAL will now clean up all old template files and 
will recompile templates also when their timestamp changes to an older one.</li>
            <li>Added support for PHP constants in TALES.</li>
            <li>Improved parsing of XML with syntax errors after root node. If you start getting errors about text after root node, wrap your templates in a <code>&lt;tal:block&gt;</code> element.</li>
            <li>Improved parsing of semicolons in PHP strings, <code>tal:attributes</code> and <code>tal:define</code>.</li>
            <li>Fixed parsing of backslash escapes in TALES strings (bug reported by Josh Duck)</li>
            <li>New configuration methods now work properly with external macros (bug reported by Philip Reichenberger)</li>
            <li>Added workaround for protected <code>__isset</code>/<code>__get</code> (problem reported by Anru Chen)</li>
        </ul>
	    
	    <h2>PHPTAL 1.1.12 released</h2>
	    <div class="date">2008-04-17</div>
	    <p>New <code>RepeatController</code> by Iván “DrSlump” Montes:</p>
        <ul>
            <li>based on SPL iterators (to simplify the code),</li>
            <li>added support for string iteration,</li>
            <li>added support for <code>letter</code> and <code>roman</code> properties,</li>
            <li>added support for grouping <code>first</code> and <code>last</code> properties,</li>
            <li>most properties are computed as needed.</li>
        </ul>
        
        <p>PHPTAL is now easier to use as part of a framework or a plug-in:</p>
        <ul>
            <li>Required files are included from directory pointed by <code>PHPTAL_DIR</code> constant (it's defined automatically). This makes it easier to use multiple copies of PHPTAL, and eliminates need for <code>include_path</code>.</li>
            <li>Configuration can be changed without using constants (patch by Werner):
                <pre>$t = PHPTAL::create('index.html')
  ->setPhpCodeDestination('application/tmp/')
  ->setPhpCodeExtension('tmp')
  ->setForceReparse(true)
  ->set('title', 'My Title')
  ->set('heading', 'My Heading');</pre></li></ul>
        <p>These changes are backwards-compatible: PEAR installations are unaffected, configuration constants are still supported.</p>
        	    
	    <h2>PHPTAL 1.1.11 released</h2>
	    <div class="date">2008-01-29</div>
	    <p>Handy feature, less bugs.</p>
        <ul>
            <li><code>nothing</code> or <code>NULL</code> as last alternative in <code>tal:attributes</code> will cause attribute to be omitted entirely,</li>
            <li>support for systems on which <code>sys_get_temp_dir()</code> does not include trailing slash,</li>
            <li>fixed warning when clearing cache.</li>
        </ul>
        
	    <h2>PHPTAL 1.1.10 released</h2>
	    <div class="date">2008-01-26</div>
	    <p>Hello! My name is Kornel Lesiński and I'm the new maintaner of PHPTAL.</p>
	    
	    <p>The latest release adds more robust error handling and integrates PHPTAL a bit better with PHP SPL:</p>
	    
	    <ul>
	        <li>added support for <code><a href="http://www.php.net/~helly/php/ext/spl/interfaceCountable.html">Countable</a></code> and <code><a href="http://www.php.net/~helly/php/ext/spl/interfaceArrayAccess.html">ArrayAccess</a></code> <abbr title="Standard PHP Library">SPL</abbr> interfaces,</li>
	        <li>added support for <a href="http://php.net/manual/en/language.variables.predefined.php#language.variables.superglobals">superglobals</a> in <code>php:</code> TALES expressions,</li>
	        <li>changed default temp directory to use <code><a href="http://php.net/sys_get_temp_dir">sys_get_temp_dir</a>()</code> . If this causes trouble, you can override it using  <code>define('PHPTAL_PHP_CODE_DESTINATION','/tmp/');</code></li>
	        <li>added additional safety-checks to code generation and macro execution to prevent <em>invalid</em> templates from triggering PHP errors,</li>
	        <li>fixed small bugs in XML parser,</li>
	        <li>fixed few error messages to be more precise and report proper file/line,</li>
	        <li>changed all exceptions thrown by PHPTAL to inherit <code>PHPTAL_Exception</code>.</li>
	    </ul>
	    <pre>pear upgrade http://phptal.motion-twin.com/latest.tar.gz</pre>
	    
		<h2>PHPTAL 1.1.9 released</h2>
		<div class="date">2007-11-25</div>
		<p>Applied patch from Kornel Lesinski</p>
		<ul>
			<li>Added <code>phptal:cache</code> that caches HTML of any given tag,</li>
			<li>Added <code>phptal_tale()</code> which returns chained TAL expressions as a single PHP expression. It's quivalent to phptal_tales(), but can be used in more contexts (i.e. $${foo | bar}),</li>
			<li><code>metal:fill-block</code> can fill blocks in parent contexts,</li>
			<li>slightly improved runtime error messages.</li>
		</ul>
		<p>Other svn pending fixes:</p>
		<ul>
			<li>fixed "not" bug with complex php: expressions,</li>
			<li>fixed tales string backslash escaping,</li>
			<li>fixed only escape &lt; and &gt; in PCDATA,</li>
			<li>fixed <code>php:$foo</code> expression which is evaluated to <code>php:$${foo}</code> equals <code>$ctx-&gt;{$ctx-&gt;foo}</code>.</li>
		</ul>
		<p>As annonced on the mailing like I don't have the time to maintain PHPTAL anymore, Kornel Lesinski kindly proposed himself to take the head of the project and we will plan the hand over during the following weeks. It was a pleasure to give this library to the community!</p>
		<p>Thanks to all PHPTAL users, <em>Laurent Bedubourg</em></p>
		<pre>pear upgrade http://phptal.motion-twin.com/latest.tar.gz</pre>
	</div>

	<div class="pon">
		<h2>PHPTAL 1.1.8 released</h2>
		<div class="date">2006-11-20</div>
		<p>Fix and patch release</p>
		<ul>
		  <li>applied <code>tal:repeat</code> patch from Moritz Bechler</li>
		  <li>applied <code>tales</code> registry patch from Moritz Bechler</li>
		  <li>applied memory patch from 'smoking_birds_on_moon'</li>
		  <li>fixed <code>$${structure foo}</code> and <code>$${string:hello world}</code></li>
		  <li>fixed <code>setTemplate()</code> reset existing prepared template (but not the context)</li>
		  <li>added <code>true:</code> modifier support</li>
		  <li>added <code>structure</code> support to <code>tal:attributes</code></li>
		</ul>
		
		<pre>pear upgrade http://phptal.motion-twin.com/latest.tar.gz</pre>
	</div>

	<div class="pon">
		<h2>PHPTAL 1.1.5 released</h2>
		<div class="date">2006-04-09</div>
		<p>
		The 1.1.4 testing is stable and was improved :
		</p>
		<ul>
			<li>added: <code>PHPTAL_CommentFilter</code> as a simple and usefull demonstration filter</li>
			<li>added: <code>PHPTAL_PHP_CODE_EXTENSION</code> constant based on William Bailey proposal</li>
			<li>added: <code>MyClass.myStatic:</code> custom expression modifiers (patch from William Bailey)</li>
			<li>fixed: ;; bug in string: expressions (patch from William Bailey)</li>
			<li>some manual documentation concerning <code>local and global</code> keywords</li>
		</ul>

		<p>
		<strong>Important:</strong> <code>tal:define</code> now fully support <code>global</code> and <code>local</code> take a <a href="/manual/en/split/ar05s02.html">quick look at the manual for tal:define usage</a>...
		</p>

		<pre>pear upgrade http://phptal.motion-twin.com/latest.tar.gz</pre>
	</div>

	<div class="pon">
		<h2>English manual corrections</h2>
		<div class="date">2005-12-10</div>
		<p>
		Many thanks to Dan Sheppard.
		</p>
	</div>

	<div class="pon">
		<h2>PHPTAL 1.1.4 (testing) released</h2>
		<div class="date">2005-12-10</div>

		<p>
		The 1.1 branch has finaly been released, here are some changes :
		</p>
		<ul>
			<li>added: <code>global</code> <code>local</code> keywords to <code>tal:define</code></li>
			<li>fixed: many little errors in the i18n extension</li>
			<li>fixed: last path in <code>string:</code> not interpolated</li>
			<li>modif: XHTML empty attributes are now echoed with a value (ie: <code>checked="checked"</code>)</li>
			<li>fixed: tal:define and content buffering fixes (patch from William Bailey)</li>
			<li>fixed: pre filter usage on external macro execution</li>
			<li>misc: many code refactorings which will lead to a radical library simplification in the future.</li>
		</ul>
		
		<pre>pear upgrade http://phptal.motion-twin.com/testing.tar.gz</pre>
	</div>

  <div class="pon">
    <h2>PHPTAL 1.0.10 latest link fixed</h2>
    <div class="date">2005-06-08</div>
    <p>
      The <a href="http://phptal.motion-twin.com/latest.tar.gz">latest</a> phptal download 
      link was broken and linked to 1.0.9 release, this is now fixed.
    </p>
    <pre>pear upgrade http://phptal.motion-twin.com/latest.tar.gz</pre>
  </div>

	<div class="pon">
		<h2>PHPTAL 1.0.10</h2>
		<div class="date">2005-05-22</div>
		<h3>(bug fix release before 1.1 branch)</h3>
		<ul>
			<li>fixed: echoing an object now calls its <code>__toString()</code> method</li>
			<li>fixed: false booleans are now echoed as 0 instead of '' (css using <code>item/repeat/odd</code> may require an update)</li>
			<li>fixed: <code>tal:content</code>, <code>tal:replace</code> and <code>tal:attributes</code> chained expression now ignores <code>null</code>, <code>false</code> and <code>''</code></li>
			<li>fixed: <code>&lt;!-- --&gt;</code> comments were evaluating <code>$${foo}</code></li>
			<li>fixed: <code>$$${foo}</code> were evaluated inside text nodes</li>
			<li>fixed: doctype and xml declaration discovery inside deep macro calls</li>
			<li>fixed: <code>filemtime()</code> warning when using <code>setSource()</code> with no path</li>
		</ul>

<pre>pear upgrade http://phptal.motion-twin.com/latest.tar.gz</pre>
	</div>

	<div class="pon">
	  <h2>PHPTAL 1.0.9</h2>
	  <div class="date">2005-04-23</div>
	  <ul>
		<li>when <code>use-macro</code> and <code>define-macro</code> appear in the same tag, slots are shared between macros to allow macro inheritence</li>
		<li>added <code>PHPTAL::stripComments($bool)</code> which removes xml comments during parsing</li>
		<li>fixed '0' tag content unexpected behaviour (patch from William Bailey)</li>
		<li>more tests, minor refactorings and code comments</li>
	  </ul>

	  <p>
		The next release will include many refactorings which will allow coders to "easily" insert 
		their own namespaces and attributes into PHPTAL.
 	  </p>
	</div>

    <div class="pon">
      <h2>Pupeno's article (part2) in PHP|Architect</h2>
      <div class="date">2005-04-22</div>
      <p>
        Pupeno's (Jose Pablo Ezequiel Fernandez Silva) second article 
        was published on the 
        <a href="http://www.phparch.com/c/magazine/issue/29">april 2005 issue of php|architect</a>.
      </p>
      <p>
        This article explains common PHPTALES usage and goes deep into 
        websites internationalisation using PHPTAL and gettext.
      </p>
    </div>

    <div class="pon">
      <h2>PHPTAL 1.0.8</h2>
      <div class="date">2005-03-30</div>
      <ul>
        <li>fixed bug with <code>array/0</code> pathes (patch from William Bailey)</li>
        <li>fixed stupid lt,gt,eq,... replacement in php:'string not gt foo'</li>
      </ul>
    </div>

    <div class="pon">
      <h2>PHPTAL 1.0.7</h2>
      <div class="date">2005-03-29</div>
      <ul>
        <li>added template string execution <code>PHPTAL::setSource($src, $path=false)</code></li>
        <li>fixed <code>tal:attributes</code> and zero values error</li>
        <li>latest release is now reachable at <a href="http://phptal.motion-twin.com/latest.tar.gz">http://phptal.motion-twin.com/latest.tar.gz</a></li>
      </ul>
    </div>
      
    <div class="pon">
      <h2>PHPTAL manual v1 released</h2>
      <div class="date">2005-03-27</div>
      <p>
      The new <a href="manuals.html">PHPTAL for PHP5 manual</a> is available.
      Corrections, remarks and translations are welcome (join the mailing list).
      </p>
    </div>
      
    <div class="pon">
      <h2>Pupeno's article in PHP|Architect</h2>
	  <div class="date">2005-03-22</div>
      <p>
      Pupeno's (Jose Pablo Ezequiel Fernandez Silva) first article 
      about PHPTAL was published on <a 
      href="http://www.phparch.com/issue.php?mid=52">the issue 3, volume 4 of php|architect</a>.
      </p>
      <p>
      This article introduces PHPTAL and explains most common TAL 
      attributes with some good examples.
      </p>
      <p>
      More articles should follow in next issues concerning advanced 
      PHPTAL usage in daily applications.
      </p>
    </div>
      
  </body>
</html>
